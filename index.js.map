{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchPhotosByQuery = searchedQuery => {\n   return fetch(\n        `https://pixabay.com/api/?q=${searchedQuery}&key=48268337-f168b7768f25a86360e21e8ce&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n\n            return response.json();\n        });\n};","export const createGalleryCardTemplate = imgInfo => {\n\n  return `\n    <li class=\"gallery-card\">\n    <div class=\"container-gallery\">\n     <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n      <img\n      class=\"gallery-img\"\n      src=\"${imgInfo.webformatURL}\" \n      alt=\"${imgInfo.tags}\" \n      />\n      </a>\n      <div class=\"gallery-info\">\n  <p class=\"gallery-stats\">\n    Likes: <span class=\"gallery-num\">${imgInfo.likes}</span>\n    Views: <span class=\"gallery-num\">${imgInfo.views}</span>\n    Comments: <span class=\"gallery-num\">${imgInfo.comments}</span>\n    Downloads: <span class=\"gallery-num\">${imgInfo.downloads}</span>\n  </p>\n    </div>\n    </div>\n    </li>\n  `;\n};\n\n","import { fetchPhotosByQuery } from './js/pixabay-api';\n\nimport { createGalleryCardTemplate } from './js/render-functions';\n\nimport iziToast from \"izitoast\";\n\nimport SimpleLightbox from \"simplelightbox\";\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n\n      if (searchedQuery === '') {\n        iziToast.warning({\n            title: \"Caution\",\n            titleColor: '#fff',\n            message: 'The field must be filled!',\n            messageColor: '#fff',\n            position: 'topRight',\n            color: '#ffa000',\n        });\n\n        return;\n    }\n    \n    fetchPhotosByQuery(searchedQuery)\n        .then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                title: \"Error\",\n                titleColor: '#fff',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                messageColor: '#fff',\n                position: 'topRight',\n                color: '#ef4040',\n            });\n\n            galleryEl.innerHTML = '';\n\n            searchFormEl.reset();\n\n            return;\n        }\n                const galleryTemplate = data.hits.map(el => createGalleryCardTemplate(el)).join('');\n\n            galleryEl.innerHTML = galleryTemplate;\n            \n            const lightbox = new SimpleLightbox('.js-gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250\n            });\n            \n            lightbox.refresh();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    \n    searchFormEl.reset();\n\n};\n\n \n\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["fetchPhotosByQuery","searchedQuery","response","createGalleryCardTemplate","imgInfo","searchFormEl","galleryEl","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAAqBC,GACxB,MACF,8BAA8BA,CAAa,iGAC9C,EACI,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAS,ECVIC,EAA4BC,GAEhC;AAAA;AAAA;AAAA,qCAG4BA,EAAQ,aAAa;AAAA;AAAA;AAAA,aAG7CA,EAAQ,YAAY;AAAA,aACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uCAKcA,EAAQ,KAAK;AAAA,uCACbA,EAAQ,KAAK;AAAA,0CACVA,EAAQ,QAAQ;AAAA,2CACfA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,ICTtDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMP,EAAgBO,EAAM,cAAc,SAAS,WAAW,MAAM,OAElE,GAAIP,IAAkB,GAAI,CACxBQ,EAAS,QAAQ,CACb,MAAO,UACP,WAAY,OACZ,QAAS,4BACT,aAAc,OACd,SAAU,WACV,MAAO,SACnB,CAAS,EAED,MACH,CAEDT,EAAmBC,CAAa,EAC3B,KAAKS,GAAQ,CACd,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,MAAO,QACP,WAAY,OACZ,QAAS,2EACT,aAAc,OACd,SAAU,WACV,MAAO,SACvB,CAAa,EAEDH,EAAU,UAAY,GAEtBD,EAAa,MAAK,EAElB,MACH,CACO,MAAMM,EAAkBD,EAAK,KAAK,IAAIE,GAAMT,EAA0BS,CAAE,CAAC,EAAE,KAAK,EAAE,EAEtFN,EAAU,UAAYK,EAEL,IAAIE,EAAe,gBAAiB,CACrD,aAAc,MACd,aAAc,GAC1B,CAAa,EAEQ,QAAO,CAC5B,CAAS,EACA,MAAMC,GAAO,CACV,QAAQ,IAAIA,CAAG,CAC3B,CAAS,EAELT,EAAa,MAAK,CAEtB,EAKAA,EAAa,iBAAiB,SAAUE,CAAkB"}